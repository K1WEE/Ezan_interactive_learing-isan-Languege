{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css" rel="stylesheet">
    <link href="{% static 'css/learn.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block title %}EZan - Learn{% endblock title %}

{% block content %}
    <!-- Sidebar -->
    <nav class="sidebar close">
        <header>
            <div class="image-text">
                <span class="image">
                    <img src="{% static 'images/logo2.png' %}" alt="logo">
                </span>

                <div class="text header-text">
                    <span class="username">{% if user.first_name %}
                        {{user.first_name}}
                    {% else %}
                        Nonamed
                    {% endif %}</span>
                </div>
            </div>

            <i class="bx bx-chevron-right toggle"></i>
        </header>

        <div class="menu-bar">
            <div class="menu">
                <li class="nav-link">
                    <a href="{% url 'home' %}">
                        <i class="bx bx-home-alt icon"></i>
                        <span class="text nav-text">HOME</span>
                    </a>
                </li>

                <li class="nav-link">
                    <a href="{% url 'learn' %}" class="active">
                        <i class="bx bx-book icon"></i>
                        <span class="text nav-text">LEARN</span>
                    </a>
                </li>

                <li class="nav-link">
                    <a href="{% url 'profile' %}">
                        <i class="bx bx-user icon"></i>
                        <span class="text nav-text">PROFILE</span>
                    </a>
                </li>

                <li class="nav-link">
                    <a href="{% url 'logout' %}">
                        <i class="bx bx-log-out icon"></i>
                        <span class="text nav-text">LOG OUT</span>
                    </a>
                </li>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="table">
        <section class="table_header">
            <h1>Vocabulary</h1>
            <p></p>
            <div class="input_group">
                <input type="search" placeholder="Search">
                <i class="bx bx-search"></i>
            </div>
        </section>
        <section class="table_body">
            <table>
                <thead>
                    <tr>
                        <th>Category <i class='bx bxs-up-arrow icon'></i></th>
                        <th>Word <i class='bx bxs-up-arrow icon'></i></th>
                        <th>Pronunciation <i class='bx bxs-up-arrow icon'></i></th>
                        <th>Thai Translation <i class='bx bxs-up-arrow icon'></i></th>
                        <th>English Translation <i class='bx bxs-up-arrow icon'></i></th>
                    </tr>
                </thead>
                <tbody id="data-output">
                    <!-- Data will be fetched from API -->
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 40px;">
                            <div class="loading-spinner"></div>
                            <p style="margin-top: 20px;">Loading vocabulary...</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    {% block extra_js %}
    <script src="{% static 'js/api_utils.js' %}"></script>
    <script src="{% static 'js/learn.js' %}"></script>
    {% endblock extra_js %}
{% endblock content %}